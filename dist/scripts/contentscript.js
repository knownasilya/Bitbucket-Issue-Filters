"use strict";!function(){function a(){var a=j(),e="bb-filters",f=e+":"+a;c(e,a,function(a){var c=d(a);a instanceof Object||(a={}),b(f,a,c.openDialogBtn,c.addFilterBtn)},this)}function b(a,b,c,d){var e;c.addEventListener("click",function(){e=document.querySelector("#bb-add-filter-dialog"),e.className=e.className+" dialog-open",e.addEventListener("mouseout",function(a){if(a&&a.currentTarget){var b=a.currentTarget.className.replace("dialog-open","").trim();a.currentTarget.className=b}})}),d.addEventListener("click",i(a))}function c(a,b,c,d){chrome.storage.sync.get(a,function(a){var e={};e[b]=a[b],e["*"]=a["*"],c.call(d,e)})}function d(a){var b,c,d=document.querySelector("#issues-toolbar"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("a"),k=document.createElement("div"),l=document.createElement("p"),m="bb-custom-filters-toolbar";return h.id=m,i.className="filter-container",l.className="filter-label",l.textContent="Custom Filters:",j.className="aui-button aui-button-compact",j.textContent="new filter",j.id="bb-add-filter",k=e("bb-add-filter-dialog",300),c=f(a),i.appendChild(l),i.appendChild(c),i.appendChild(j),i.appendChild(k),h.appendChild(i),document.querySelector("#"+m)||g(d,h),{toolbar:h,openDialogBtn:j,addFilterBtn:b}}function e(a){var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div");return b.id=a,b.className="aui-inline-dialog",c.className="contents",d.className="clone-dialog",e.className="arrow aui-css-arrow",c.appendChild(d),b.appendChild(c),b.appendChild(e),b}function f(a){var b,c,d,e,f=document.createElement("ul"),g=location.href.split("?");f.className="filter-control";for(d in a)a.hasOwnProperty(d)&&(e=a[d],e&&(b=document.createElement("li"),2===g.length&&g[1]===d&&(b["aria-pressed"]=!0),c=document.createElement("a"),c.href="?"+d,c.textContent=e,b.appendChild(c),f.appendChild(b)));return f}function g(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function h(a){var b=document.querySelector("#bb-message-container"),c=document.createElement("p");c.className="message",c.textContent=a,b.appendChild(c),setTimeout(function(){b.removeChild(c)},3500)}function i(a,b){return function(){{var c=b[a];b["*"],document.querySelector("#bb-add-filter-global").value}document.location.search&&(params=document.location.search.replace("?",""),b[a]=c,chrome.storage.sync.set(b,function(){h("Filter Saved")}))}}function j(){var a=document.querySelector(".repo-link").href,b=a.split("/").reverse(),c=b.length>=2?b[1]+"/"+b[0]:b.join("/");return c}a()}();